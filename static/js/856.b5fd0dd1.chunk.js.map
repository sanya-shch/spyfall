{"version":3,"file":"static/js/856.b5fd0dd1.chunk.js","mappings":"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","sources":["assets/images.js","components/CircleButton/index.js","components/Input/index.js","components/RippleButton/index.js","firebase.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","helpers/userId.js","components/ConfirmModal/ReactPortal.js","components/ConfirmModal/index.js","components/CircleTimer/index.js","screens/game/components/VotingModal/index.js","screens/game/components/SpyLocationModal/index.js","constants/locations.js","helpers/index.js","screens/game/Game.js","../node_modules/copy-to-clipboard/index.js","../node_modules/toggle-selection/index.js"],"sourcesContent":["import spy from './spy.png';\r\n// import spyWebp from './spy.webp';\r\n\r\nimport beach from './places/beach.png';\r\nimport cinema from './places/cinema.png';\r\nimport casino from './places/casino.png';\r\nimport circusTent from './places/circus-tent.png';\r\nimport bank from './places/bank.png';\r\nimport sauna from './places/sauna.png';\r\nimport hotel from './places/hotel.png';\r\nimport restaurant from './places/restaurant.png';\r\nimport groceryCart from './places/grocery-cart.png';\r\nimport flatTire from './places/flat-tire.png';\r\nimport hospital from './places/hospital-bed.png';\r\nimport embassy from './places/embassy.png';\r\nimport base from './places/base.png';\r\nimport policeStation from './places/police-station.png';\r\nimport training from './places/training.png';\r\nimport graduation from './places/graduation.png';\r\nimport plane from './places/plane.png';\r\nimport cruise from './places/cruise.png';\r\nimport train from './places/train.png';\r\nimport submarine from './places/submarine.png';\r\nimport church from './places/church.png';\r\nimport party from './places/party-time.png';\r\nimport studio from './places/studio.png';\r\nimport knight from './places/knight.png';\r\nimport pirate from './places/pirate-ship.png';\r\nimport arctic from './places/arctic.png';\r\nimport space from './places/space-tourism.png';\r\nimport moon from './places/moon.png';\r\nimport castle from './places/castle.png';\r\nimport fireStation from './places/fire-station.png';\r\nimport neighborhood from './places/neighborhood.png';\r\nimport bus from './places/bus-stop.png';\r\nimport park from './places/park.png';\r\nimport library from './places/library.png';\r\nimport museum from './places/museum.png';\r\nimport carousel from './places/carousel.png';\r\nimport sweets from './places/sweets.png';\r\nimport contest from './places/contest.png';\r\nimport cemetery from './places/cemetery.png';\r\nimport pickaxe from './places/pickaxe.png';\r\nimport building from './places/building.png';\r\nimport gas from './places/gas-station.png';\r\nimport port from './places/port.png';\r\nimport ice from './places/ice-skating.png';\r\nimport prisoner from './places/prisoner.png';\r\nimport racing from './places/racing.png';\r\nimport everest from './places/everest.png';\r\nimport nursingHome from './places/nursing-home.png';\r\nimport rock from './places/rock.png';\r\nimport excursion from './places/excursion.png';\r\nimport stadium from './places/stadium.png';\r\nimport metro from './places/kiev-metro-logo.png';\r\nimport wedding from './places/wedding.png';\r\nimport forest from './places/forest.png';\r\nimport northKorea from './places/north-korea.png';\r\nimport zoo from './places/zoo.png';\r\nimport pub from './places/pub.png';\r\nimport workout from './places/workout.png';\r\nimport jewellery from './places/jewellery.png';\r\nimport pet from './places/pet-shop.png';\r\nimport volcano from './places/volcano.png';\r\nimport brazilian from './places/brazilian.png';\r\nimport skyscrapers from './places/skyscrapers.png';\r\nimport postOffice from './places/post-office.png';\r\nimport swimmingPool from './places/swimming-pool.png';\r\nimport aquarium from './places/aquarium.png';\r\n\r\nexport const IMAGES = {\r\n  spy,\r\n  beach,\r\n  cinema,\r\n  casino,\r\n  circusTent,\r\n  bank,\r\n  sauna,\r\n  hotel,\r\n  restaurant,\r\n  groceryCart,\r\n  flatTire,\r\n  hospital,\r\n  embassy,\r\n  base,\r\n  policeStation,\r\n  training,\r\n  graduation,\r\n  plane,\r\n  cruise,\r\n  train,\r\n  submarine,\r\n  church,\r\n  party,\r\n  studio,\r\n  knight,\r\n  pirate,\r\n  arctic,\r\n  space,\r\n  moon,\r\n  castle,\r\n  fireStation,\r\n  neighborhood,\r\n  bus,\r\n  park,\r\n  library,\r\n  museum,\r\n  carousel,\r\n  sweets,\r\n  contest,\r\n  cemetery,\r\n  pickaxe,\r\n  building,\r\n  gas,\r\n  port,\r\n  ice,\r\n  prisoner,\r\n  racing,\r\n  everest,\r\n  nursingHome,\r\n  rock,\r\n  excursion,\r\n  stadium,\r\n  metro,\r\n  wedding,\r\n  forest,\r\n  northKorea,\r\n  zoo,\r\n  pub,\r\n  workout,\r\n  jewellery,\r\n  pet,\r\n  volcano,\r\n  brazilian,\r\n  skyscrapers,\r\n  postOffice,\r\n  swimmingPool,\r\n  aquarium,\r\n};\r\n","import React from 'react';\r\n\r\nimport './style.css';\r\n\r\nconst CircleButton = ({\r\n  handleClick,\r\n  text,\r\n  svg,\r\n}) => {\r\n  return (\r\n    <button className=\"cta\" onClick={handleClick}>\r\n      <span>{text}</span>\r\n      {svg || (\r\n        <svg width=\"13px\" height=\"10px\" viewBox=\"0 0 13 10\">\r\n          <path d=\"M1,5 L11,5\" />\r\n          <polyline points=\"8 1 12 5 8 9\" />\r\n        </svg>\r\n      )}\r\n    </button>\r\n  )\r\n};\r\n\r\nexport default CircleButton;\r\n","import React from 'react';\r\n\r\nimport './style.css';\r\n\r\nconst Input = ({ value, label, onChange, ...restProps }) => {\r\n  const handleChange = event => {\r\n    const { value: eventValue } = event.target;\r\n    onChange(eventValue);\r\n  };\r\n\r\n  return (\r\n    <div className=\"inputBox\">\r\n      <input\r\n        type=\"text\"\r\n        required=\"required\"\r\n        value={value}\r\n        onChange={handleChange}\r\n        { ...restProps }\r\n      />\r\n      <span>{label}</span>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Input;\r\n\r\n// <Input\r\n//   value={name}\r\n//   label={\"Name\"}\r\n//   onChange={setName}\r\n// />\r\n","import React, { useEffect, useId } from 'react';\r\n\r\nimport './style.css';\r\n\r\nconst Button = ({ text, colorOne, colorTwo, onClick }) => {\r\n  const id = useId();\r\n\r\n  useEffect(() => {\r\n    const element = document.getElementById(`${id}-btn`);\r\n\r\n    const handleClick = e => {\r\n      const x = e.clientX - e.target.offsetLeft;\r\n      const y = e.clientY - e.target.offsetTop;\r\n\r\n      const ripples = document.createElement('span');\r\n      ripples.style.left = x + 'px';\r\n      ripples.style.top = y + 'px';\r\n      element.appendChild(ripples);\r\n\r\n      setTimeout(() => {\r\n        ripples.remove()\r\n      }, 1000);\r\n    };\r\n\r\n    element.addEventListener(\"click\", handleClick);\r\n\r\n    return () => {\r\n      element.removeEventListener(\"click\", handleClick);\r\n    }\r\n  }, [id]);\r\n\r\n  return (\r\n    <button id={`${id}-btn`} className=\"ripple-btn\" onClick={onClick} style={{ \"--crlOne\": colorOne, \"--crlTwo\": colorTwo }}>{text}</button>\r\n  )\r\n};\r\n\r\nexport default Button;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAGZmJhikusrkvfc0pGZJkZ4_zTItpnyyY\",\r\n  authDomain: \"my-test-project-92507.firebaseapp.com\",\r\n  projectId: \"my-test-project-92507\",\r\n  storageBucket: \"my-test-project-92507.appspot.com\",\r\n  messagingSenderId: \"909817834075\",\r\n  appId: \"1:909817834075:web:76cbbb2ea960e361aded7e\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\n\r\nexport { db };\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst isUserNew = () => !window.localStorage.getItem(\"uuid\");\r\n\r\nconst generateUserId = () => {\r\n  window.localStorage.setItem(\"uuid\", uuidv4());\r\n  return window.localStorage.getItem(\"uuid\");\r\n};\r\n\r\nexport const getUserId = () => {\r\n  if (isUserNew()) {\r\n    return generateUserId();\r\n  } else {\r\n    return window.localStorage.getItem(\"uuid\");\r\n  }\r\n};\r\n","import { useState, useLayoutEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nfunction createWrapperAndAppendToBody(wrapperId) {\r\n  const wrapperElement = document.createElement('div');\r\n  wrapperElement.setAttribute(\"id\", wrapperId);\r\n  document.body.appendChild(wrapperElement);\r\n  return wrapperElement;\r\n}\r\n\r\nfunction ReactPortal({ children, wrapperId = \"react-portal-wrapper\" }) {\r\n  const [wrapperElement, setWrapperElement] = useState(null);\r\n\r\n  useLayoutEffect(() => {\r\n    let element = document.getElementById(wrapperId);\r\n    let systemCreated = false;\r\n    // if element is not found with wrapperId or wrapperId is not provided,\r\n    // create and append to body\r\n    if (!element) {\r\n      systemCreated = true;\r\n      element = createWrapperAndAppendToBody(wrapperId);\r\n    }\r\n    setWrapperElement(element);\r\n\r\n    return () => {\r\n      // delete the programatically created element\r\n      if (systemCreated && element.parentNode) {\r\n        element.parentNode.removeChild(element);\r\n      }\r\n    }\r\n  }, [wrapperId]);\r\n\r\n  // wrapperElement state will be null on the very first render.\r\n  if (wrapperElement === null) return null;\r\n\r\n  return createPortal(children, wrapperElement);\r\n}\r\n\r\nexport default ReactPortal;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport ReactPortal from \"./ReactPortal\";\r\nimport Button from \"../RippleButton\";\r\n\r\nimport './style.css';\r\n\r\nfunction ConfirmModal({\r\n                        handleClose,\r\n                        isOpen,\r\n                        confirmAction,\r\n                        btnTitle,\r\n                        title,\r\n                        description,\r\n                      }) {\r\n  useEffect(() => {\r\n    const closeOnEscapeKey = e => e.key === \"Escape\" ? handleClose() : null;\r\n    document.body.addEventListener(\"keydown\", closeOnEscapeKey);\r\n\r\n    return () => {\r\n      document.body.removeEventListener(\"keydown\", closeOnEscapeKey);\r\n    };\r\n  }, [handleClose]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n      document.getElementById('root').style.filter = 'blur(2px)';\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = 'auto';\r\n      document.getElementById('root').style.filter = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <ReactPortal wrapperId=\"react-portal-confirm-modal-container\">\r\n      <div className=\"confirm-modal\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <div>{title}</div>\r\n            <button onClick={handleClose} className=\"close-btn\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"modal-description\">{description}</div>\r\n\r\n          <div className=\"btn-block\">\r\n            <Button\r\n              text={btnTitle}\r\n              colorOne=\"#0162c8\"\r\n              colorTwo=\"#55e7fc\"\r\n              onClick={confirmAction}\r\n            />\r\n            <Button\r\n              text=\"Cancel\"\r\n              colorOne=\"#755bea\"\r\n              colorTwo=\"#ff72c0\"\r\n              onClick={handleClose}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ReactPortal>\r\n  );\r\n}\r\n\r\nexport default ConfirmModal;\r\n","import React from \"react\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst CircleTimer = ({ time }) => {\r\n  return (\r\n    <div className=\"loader-container\">\r\n      <svg>\r\n        <circle cx=\"15\" cy=\"15\" r=\"15\" />\r\n      </svg>\r\n    </div>\r\n  )\r\n};\r\n\r\n// const CircleTimer = ({ time }) => {\r\n//   return (\r\n//     <div id=\"loader-container\"  style={{ \"--time\": `${time}s`, \"--time2\": `${time * 2}s`, \"--time3\": `${time * 3}s` }}>\r\n//       <div className=\"loader\"/>\r\n//       <div className=\"loader\"/>\r\n//       <div className=\"loader\"/>\r\n//       <div className=\"loader\"/>\r\n//       <div className=\"loader hide\"/>\r\n//     </div>\r\n//   )\r\n// };\r\n\r\nexport default CircleTimer;\r\n","import React, { useEffect, useMemo, useContext } from \"react\";\r\nimport { arrayUnion, doc, Timestamp, updateDoc } from \"firebase/firestore\";\r\n\r\nimport { ToastContext } from \"../../../../components/Toast\";\r\nimport { db } from \"../../../../firebase\";\r\nimport ReactPortal from \"../../../../components/ConfirmModal/ReactPortal\";\r\nimport Button from \"../../../../components/RippleButton\";\r\nimport CircleTimer from \"../../../../components/CircleTimer\";\r\n\r\nimport './style.css';\r\n\r\n// const time = 3;\r\n\r\nfunction VotingModal({\r\n                       id,\r\n                       uuid,\r\n                       handleClose,\r\n                       isOpen,\r\n                       exhibitedUid,\r\n                       exhibitorUid,\r\n                       voteScore,\r\n                       playerData,\r\n                       spyUid,\r\n                       isHost,\r\n                       isSpy,\r\n                     }) {\r\n  const exhibited = useMemo(() => playerData.find(player => player.uid === exhibitedUid), [playerData, exhibitedUid]);\r\n  const exhibitor = useMemo(() => playerData.find(player => player.uid === exhibitorUid), [playerData, exhibitorUid]);\r\n\r\n  const { setToast } = useContext(ToastContext);\r\n\r\n  const isVotingOver = useMemo(() => playerData\r\n      .filter(player => player.uid !== exhibitedUid)\r\n      .every(player => voteScore?.[player.uid] && voteScore[player.uid] === 'spy'),\r\n    [playerData, voteScore, exhibitedUid]\r\n  );\r\n  const isAllPlayerVoting = useMemo(() => playerData\r\n      .filter(player => player.uid !== exhibitedUid)\r\n      .every(player => voteScore?.[player.uid]),\r\n    [playerData, voteScore, exhibitedUid]\r\n  );\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n\r\n    if (isAllPlayerVoting) {\r\n      timer = setTimeout(() => {\r\n        if (isHost) {\r\n          if (!isVotingOver) {\r\n            updateDoc(doc(db, \"game_rooms\", id), {\r\n              vote_exhibited_uid: '',\r\n              vote_exhibitor_uid: '',\r\n              vote_score: {},\r\n              timeData: arrayUnion({ time: Timestamp.now(), status: 'start' }),\r\n            });\r\n          } else {\r\n            const isExhibitedSpy = spyUid.includes(exhibitedUid);\r\n\r\n            const player_data_arr = isExhibitedSpy\r\n              ? playerData.map(player => {\r\n                if (exhibitorUid === player.uid) {\r\n                  return { ...player, points: player.points + 2 };\r\n                }\r\n                if (!spyUid.includes(player.uid)) {\r\n                  return { ...player, points: player.points + 1 };\r\n                }\r\n\r\n                return player;\r\n              })\r\n              : playerData.map(player => {\r\n                if (spyUid.includes(player.uid)) {\r\n                  return { ...player, points: player.points + 4 }\r\n                }\r\n\r\n                return player;\r\n              });\r\n\r\n            updateDoc(doc(db, \"game_rooms\", id), {\r\n              vote_exhibited_uid: '',\r\n              vote_exhibitor_uid: '',\r\n              vote_score: {},\r\n\r\n              player_data_arr,\r\n\r\n              spy_uid: [],\r\n              location: { title: '',  id: '' },\r\n              locations_list: [],\r\n              ongoing_game: false,\r\n              midgame_player_uid: [],\r\n              // startedAt: null,\r\n              timeData: [],\r\n            });\r\n          }\r\n        }\r\n\r\n        setToast({\r\n          message: !isVotingOver\r\n            ? 'Voting failed'\r\n            : isVotingOver && spyUid.includes(exhibitedUid)\r\n              ? spyUid.includes(uuid)\r\n                ? 'You are exposed.'\r\n                : 'Spy exposed.'\r\n              : spyUid.includes(uuid)\r\n                ? 'The players made a mistake.'\r\n                : 'Unfortunately, this player is not a spy.',\r\n          type: !isVotingOver\r\n            ? 'danger'\r\n            : isVotingOver && spyUid.includes(exhibitedUid)\r\n              ? spyUid.includes(uuid)\r\n                ? 'danger'\r\n                : 'success'\r\n              : spyUid.includes(uuid)\r\n                ? 'success'\r\n                : 'danger',\r\n        });\r\n\r\n        if (!isSpy) {\r\n          const spyData = playerData.find(player => spyUid.includes(player.uid));\r\n\r\n          setToast({\r\n            message: `${spyData?.username || '???'} was a spy.`,\r\n            type: 'info',\r\n          });\r\n        }\r\n\r\n        handleClose();\r\n      }, 12000);\r\n    }\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [\r\n    isVotingOver,\r\n    isAllPlayerVoting,\r\n    exhibitedUid,\r\n    exhibitorUid,\r\n    handleClose,\r\n    id,\r\n    isHost,\r\n    playerData,\r\n    setToast,\r\n    spyUid,\r\n    uuid,\r\n    isSpy,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n      document.getElementById('root').style.filter = 'blur(2px)';\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = 'auto';\r\n      document.getElementById('root').style.filter = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return;\r\n\r\n  const handleClickSpy = () => {\r\n    updateDoc(doc(db, \"game_rooms\", id), {\r\n      [`vote_score.${uuid}`]: 'spy'\r\n    });\r\n  };\r\n\r\n  const handleClickNotASpy = () => {\r\n    updateDoc(doc(db, \"game_rooms\", id), {\r\n      [`vote_score.${uuid}`]: 'not_spy'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ReactPortal wrapperId=\"react-portal-voting-modal-container\">\r\n      <div className=\"voting-modal\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <div>VOTE</div>\r\n            {/*<button onClick={handleClose} className=\"close-btn\">*/}\r\n            {/*  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">*/}\r\n            {/*    <path d=\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\"/>*/}\r\n            {/*  </svg>*/}\r\n            {/*</button>*/}\r\n\r\n            {isAllPlayerVoting && <CircleTimer />}\r\n            {/* isAllPlayerVoting && <CircleTimer time={time || 0.75} /> */}\r\n          </div>\r\n\r\n          <div className=\"modal-description\"><span>{exhibitor?.username}</span> put <span>{exhibited?.username}</span> to the vote</div>\r\n\r\n          <div className=\"list-block\">\r\n            {playerData.map((player) => player.uid !== exhibitedUid && (\r\n              <div key={player.uid} className=\"list-item\">\r\n                {player.username}\r\n\r\n                {voteScore?.[player.uid] === 'spy' ? (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"like\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z\"/>\r\n                  </svg>\r\n                ) : voteScore?.[player.uid] === 'not_spy' ? (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"dislike\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.378 1.378 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51.136.02.285.037.443.051.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.896 1.896 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2.094 2.094 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.162 3.162 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.823 4.823 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591z\"/>\r\n                  </svg>\r\n                ) : (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"#dcddd8\" className=\"dash\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/>\r\n                  </svg>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"btn-block\">\r\n            {isVotingOver ? (\r\n              <h2>voting is over</h2>\r\n            ) : exhibitedUid !== uuid ? (\r\n              <>\r\n                <Button\r\n                  text=\"Not a spy\"\r\n                  colorOne=\"#0162c8\"\r\n                  colorTwo=\"#55e7fc\"\r\n                  onClick={handleClickNotASpy}\r\n                />\r\n                <Button\r\n                  text=\"Spy\"\r\n                  colorOne=\"#755bea\"\r\n                  colorTwo=\"#ff72c0\"\r\n                  onClick={handleClickSpy}\r\n                />\r\n              </>\r\n            ) : (\r\n              <h2>you cannot vote</h2>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ReactPortal>\r\n  );\r\n}\r\n\r\nexport default VotingModal;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { doc, updateDoc } from \"firebase/firestore\";\r\n\r\nimport { ToastContext } from \"../../../../components/Toast\";\r\nimport { db } from \"../../../../firebase\";\r\nimport ReactPortal from \"../../../../components/ConfirmModal/ReactPortal\";\r\nimport Button from \"../../../../components/RippleButton\";\r\nimport { IMAGES } from \"../../../../assets/images\";\r\n// import locations from \"../../../../constants/locations\";\r\n\r\nimport './style.css';\r\n\r\nfunction SpyLocationModal({\r\n                            id,\r\n                            uuid,\r\n                            isOpen,\r\n                            handleClose,\r\n                            playerData,\r\n                            location,\r\n                            locationsList,\r\n                         }) {\r\n  const [choosenLocation, setChoosenLocation] = useState(null);\r\n\r\n  const { setToast } = useContext(ToastContext);\r\n\r\n  useEffect(() => {\r\n    setToast({\r\n      message: 'You have one attempt.',\r\n      type: 'info',\r\n    });\r\n  }, [setToast]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n      document.getElementById('root').style.filter = 'blur(2px)';\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = 'auto';\r\n      document.getElementById('root').style.filter = '';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!isOpen) return;\r\n\r\n  const handleClickMakeGuess = () => {\r\n    if (choosenLocation) {\r\n      const player_data_arr = choosenLocation.id !== location.id\r\n        ? playerData.map(player => {\r\n          if (player.uid !== uuid) {\r\n            return { ...player, points: player.points + 1 };\r\n          }\r\n\r\n          return player;\r\n        })\r\n        : playerData.map(player => {\r\n          if (player.uid === uuid) {\r\n            return { ...player, points: player.points + 4 }\r\n          }\r\n\r\n          return player;\r\n        });\r\n\r\n      updateDoc(doc(db, \"game_rooms\", id), {\r\n        vote_exhibited_uid: '',\r\n        vote_exhibitor_uid: '',\r\n        vote_score: {},\r\n\r\n        player_data_arr,\r\n        lastGameSpy: {\r\n          spyUid: uuid,\r\n          toasts: [\r\n            {\r\n              message: choosenLocation.id !== location.id\r\n                ? 'The spy did not guess the location.'\r\n                : 'The spy guessed the location.',\r\n              type: choosenLocation.id !== location.id\r\n                ? 'success'\r\n                : 'danger',\r\n            },\r\n            {\r\n              message: `${playerData.find(item => item.uid === uuid)?.username || '???'} was a spy.`,\r\n              type: 'info',\r\n            },\r\n          ],\r\n        },\r\n\r\n        spy_uid: [],\r\n        location: { title: '',  id: '' },\r\n        locations_list: [],\r\n        ongoing_game: false,\r\n        midgame_player_uid: [],\r\n        // startedAt: null,\r\n        timeData: [],\r\n      });\r\n\r\n      handleClose();\r\n\r\n      setToast({\r\n        message: choosenLocation.id !== location.id\r\n          ? 'You were wrong.'\r\n          : 'You guessed the location correctly.',\r\n        type: choosenLocation.id !== location.id\r\n          ? 'danger'\r\n          : 'success',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClickLocation = lctn => {\r\n    setChoosenLocation(lctn);\r\n  };\r\n\r\n  return (\r\n    <ReactPortal wrapperId=\"react-portal-spy-location-modal-container\">\r\n      <div className=\"spy-location-modal\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <div>Location</div>\r\n            <button onClick={handleClose} className=\"close-btn\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"location-list-block\">\r\n            {locationsList.map(item => (\r\n              <div\r\n                key={item.id}\r\n                className={`list-item ${choosenLocation && choosenLocation.id === item.id ? 'checked' : ''}`}\r\n                onClick={() => handleClickLocation(item)}\r\n              >\r\n                <img\r\n                  className={item.checked ? 'checked' : ''}\r\n                  alt={item.title}\r\n                  src={IMAGES[item.id]}\r\n                  loading=\"lazy\" width=\"100\" height=\"100\"\r\n                />\r\n                <div>{item.title}</div>{item.checked}\r\n                {item.checked && (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\"/>\r\n                  </svg>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"btn-block\">\r\n            <Button\r\n              text=\"Make a Guess\"\r\n              colorOne=\"#0162c8\"\r\n              colorTwo=\"#55e7fc\"\r\n              onClick={handleClickMakeGuess}\r\n            />\r\n            <Button\r\n              text=\"Cancel\"\r\n              colorOne=\"#755bea\"\r\n              colorTwo=\"#ff72c0\"\r\n              onClick={handleClose}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ReactPortal>\r\n  );\r\n}\r\n\r\nexport default SpyLocationModal;\r\n","const locations = [\r\n  {\r\n    img: \"beach.png\",\r\n    title: \"Beach\",\r\n    id: 'beach',\r\n  },\r\n  {\r\n    img: \"cinema.png\",\r\n    title: \"Cinema\",\r\n    id: 'cinema',\r\n  },\r\n  {\r\n    img: \"casino.png\",\r\n    title: \"Casino\",\r\n    id: 'casino',\r\n  },\r\n  {\r\n    img: \"circus-tent.png\",\r\n    title: \"Circus Tent\",\r\n    id: 'circusTent',\r\n  },\r\n  {\r\n    img: \"bank.png\",\r\n    title: \"Bank\",\r\n    id: 'bank',\r\n  },\r\n  {\r\n    img: \"sauna.png\",\r\n    title: \"Sauna\",\r\n    id: 'sauna',\r\n  },\r\n  {\r\n    img: \"hotel.png\",\r\n    title: \"Hotel\",\r\n    id: 'hotel',\r\n  },\r\n  {\r\n    img: \"restaurant.png\",\r\n    title: \"Restaurant\",\r\n    id: 'restaurant',\r\n  },\r\n  {\r\n    img: \"grocery-cart.png\",\r\n    title: \"Supermarket\",\r\n    id: 'groceryCart',\r\n  },\r\n  {\r\n    img: \"flat-tire.png\",\r\n    title: \"Service Station\",\r\n    id: 'flatTire',\r\n  },\r\n  {\r\n    img: \"hospital-bed.png\",\r\n    title: \"Hospital\",\r\n    id: 'hospital',\r\n  },\r\n  {\r\n    img: \"embassy.png\",\r\n    title: \"Embassy\",\r\n    id: 'embassy',\r\n  },\r\n  {\r\n    img: \"base.png\",\r\n    title: \"Military Base\",\r\n    id: 'base',\r\n  },\r\n  {\r\n    img: \"police-station.png\",\r\n    title: \"Police Station\",\r\n    id: 'policeStation',\r\n  },\r\n  {\r\n    img: \"training.png\",\r\n    title: \"School\",\r\n    id: 'training',\r\n  },\r\n  {\r\n    img: \"graduation.png\",\r\n    title: \"University\",\r\n    id: 'graduation',\r\n  },\r\n  {\r\n    img: \"plane.png\",\r\n    title: \"Airplane\",\r\n    id: 'plane',\r\n  },\r\n  {\r\n    img: \"cruise.png\",\r\n    title: \"Ocean Liner\",\r\n    id: 'cruise',\r\n  },\r\n  {\r\n    img: \"train.png\",\r\n    title: \"Passenger Train\",\r\n    id: 'train',\r\n  },\r\n  {\r\n    img: \"submarine.png\",\r\n    title: \"Submarine\",\r\n    id: 'submarine',\r\n  },\r\n  {\r\n    img: \"church.png\",\r\n    title: \"Church\",\r\n    id: 'church',\r\n  },\r\n  {\r\n    img: \"party-time.png\",\r\n    title: \"Corporate Party\",\r\n    id: 'party',\r\n  },\r\n  {\r\n    img: \"studio.png\",\r\n    title: \"Movie Studio\",\r\n    id: 'studio',\r\n  },\r\n  {\r\n    img: \"knight.png\",\r\n    title: \"Crusader Army\",\r\n    id: 'knight',\r\n  },\r\n  {\r\n    img: \"pirate-ship.png\",\r\n    title: \"Pirate Ship\",\r\n    id: 'pirate',\r\n  },\r\n  // {\r\n  //     img: \"polar-bear.png\",\r\n  //     title: \"Polar Station\",\r\n  // },\r\n  // {\r\n  //     img: \"arctic.png\",\r\n  //     title: \"Arctic station\",\r\n  // },\r\n  {\r\n    img: \"arctic.png\",\r\n    title: \"Polar Station\",\r\n    id: 'arctic',\r\n  },\r\n  {\r\n    img: \"space-tourism.png\",\r\n    title: \"Space Station\",\r\n    id: 'space',\r\n  },\r\n  {\r\n    img: \"moon.png\",\r\n    title: \"Moon\",\r\n    id: 'moon',\r\n  },\r\n  {\r\n    img: \"castle.png\",\r\n    title: \"Castle\",\r\n    id: 'castle',\r\n  },\r\n  {\r\n    img: \"fire-station.png\",\r\n    title: \"Fire Station\",\r\n    id: 'fireStation',\r\n  },\r\n  {\r\n    img: \"neighborhood.png\",\r\n    title: \"Street\",\r\n    id: 'neighborhood',\r\n  },\r\n  {\r\n    img: \"bus-stop.png\",\r\n    title: \"Bus stop\",\r\n    id: 'bus',\r\n  },\r\n  {\r\n    img: \"park.png\",\r\n    title: \"Park\",\r\n    id: 'park',\r\n  },\r\n  {\r\n    img: \"library.png\",\r\n    title: \"Library\",\r\n    id: 'library',\r\n  },\r\n  // {\r\n  //     img: \"fencing.png\",\r\n  //     title: \"Museum\",\r\n  // },\r\n  {\r\n    img: \"museum.png\",\r\n    title: \"Museum of Art\",\r\n    id: 'museum',\r\n  },\r\n  {\r\n    img: \"carousel.png\",\r\n    title: \"Amusement Park\",\r\n    id: 'carousel',\r\n  },\r\n  {\r\n    img: \"sweets.png\",\r\n    title: \"Sweets factory\",\r\n    id: 'sweets',\r\n  },\r\n  {\r\n    img: \"contest.png\",\r\n    title: \"Exhibition of animals\",\r\n    id: 'contest',\r\n  },\r\n  {\r\n    img: \"cemetery.png\",\r\n    title: \"Cemetery\",\r\n    id: 'cemetery',\r\n  },\r\n  {\r\n    img: \"pickaxe.png\",\r\n    title: \"Coalmine\",\r\n    id: 'pickaxe',\r\n  },\r\n  {\r\n    img: \"building.png\",\r\n    title: \"Construction site\",\r\n    id: 'building',\r\n  },\r\n  {\r\n    img: \"gas-station.png\",\r\n    title: \"Gas station\",\r\n    id: 'gas',\r\n  },\r\n  {\r\n    img: \"port.png\",\r\n    title: \"Port\",\r\n    id: 'port',\r\n  },\r\n  {\r\n    img: \"ice-skating.png\",\r\n    title: \"Ice-skating Rink\",\r\n    id: 'ice',\r\n  },\r\n  {\r\n    img: \"prisoner.png\",\r\n    title: \"Prison\",\r\n    id: 'prisoner',\r\n  },\r\n  {\r\n    img: \"racing.png\",\r\n    title: \"Car Racing\",\r\n    id: 'racing',\r\n  },\r\n  {\r\n    img: \"everest.png\",\r\n    title: \"Mount Everest\",\r\n    id: 'everest',\r\n  },\r\n  {\r\n    img: \"nursing-home.png\",\r\n    title: \"Nursing Home\",\r\n    id: 'nursingHome',\r\n  },\r\n  {\r\n    img: \"rock.png\",\r\n    title: \"Rock Concert\",\r\n    id: 'rock',\r\n  },\r\n  {\r\n    img: \"excursion.png\",\r\n    title: \"Excursion Bus\",\r\n    id: 'excursion',\r\n  },\r\n  {\r\n    img: \"stadium.png\",\r\n    title: \"Stadium\",\r\n    id: 'stadium',\r\n  },\r\n  {\r\n    img: \"kiev-metro-logo.png\",\r\n    title: \"Underground\",\r\n    id: 'metro',\r\n  },\r\n  {\r\n    img: \"wedding.png\",\r\n    title: \"Wedding\",\r\n    id: 'wedding',\r\n  },\r\n  {\r\n    img: \"forest.png\",\r\n    title: \"Forest\",\r\n    id: 'forest',\r\n  },\r\n  {\r\n    img: \"north-korea.png\",\r\n    title: \"North Korea\",\r\n    id: 'northKorea',\r\n  },\r\n  {\r\n    img: \"zoo.png\",\r\n    title: \"Zoo\",\r\n    id: 'zoo',\r\n  },\r\n  {\r\n    img: \"pub.png\",\r\n    title: \"Pub\",\r\n    id: 'pub',\r\n  },\r\n  {\r\n    img: \"workout.png\",\r\n    title: \"Gym\",\r\n    id: 'workout',\r\n  },\r\n  {\r\n    img: \"jewellery.png\",\r\n    title: \"Jewellery Shop\",\r\n    id: 'jewellery',\r\n  },\r\n  {\r\n    img: \"pet-shop.png\",\r\n    title: \"Pet Shop\",\r\n    id: 'pet',\r\n  },\r\n  {\r\n    img: \"volcano.png\",\r\n    title: \"Volcano\",\r\n    id: 'volcano',\r\n  },\r\n  {\r\n    img: \"brazilian.png\",\r\n    title: \"Carnival\",\r\n    id: 'brazilian',\r\n  },\r\n  {\r\n    img: \"skyscrapers.png\",\r\n    title: \"Skyscraper\",\r\n    id: 'skyscrapers',\r\n  },\r\n  {\r\n    img: \"post-office.png\",\r\n    title: \"Post Office\",\r\n    id: 'postOffice',\r\n  },\r\n  {\r\n    img: \"swimming-pool.png\",\r\n    title: \"Swimming Pool\",\r\n    id: 'swimmingPool',\r\n  },\r\n  {\r\n    img: \"aquarium.png\",\r\n    title: \"Aquarium\",\r\n    id: 'aquarium',\r\n  },\r\n];\r\n\r\nexport default locations;\r\n","import locations from \"../constants/locations\";\r\n\r\nfunction getMultipleRandom(arr, num) {\r\n  const shuffled = [...arr].sort(() => 0.5 - Math.random());\r\n\r\n  return shuffled.slice(0, num);\r\n}\r\n\r\nconst getLocationsData = num => getMultipleRandom(locations, num)\r\n  .map(item => ({ id: item.id, title: item.title }));\r\n\r\nconst getRandomLocation = locationsData => {\r\n  const mapSize = locationsData.length;\r\n  const locationIndex = Math.floor(Math.random() * mapSize);\r\n\r\n  return locationsData[locationIndex];\r\n};\r\n\r\nexport const getRandomLocationsData = num => {\r\n  const locationsList = getLocationsData(num);\r\n  const location = getRandomLocation(locationsList);\r\n\r\n  return { location, locationsList };\r\n};\r\n","import React, { useState, useEffect, useMemo, useContext, useCallback, lazy, Suspense } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport copy from \"copy-to-clipboard\";\r\nimport {\r\n  doc,\r\n  getDoc,\r\n  updateDoc,\r\n  onSnapshot,\r\n  arrayUnion,\r\n  arrayRemove,\r\n  deleteDoc,\r\n  Timestamp,\r\n  // serverTimestamp,\r\n} from \"firebase/firestore\";\r\n\r\nimport { ToastContext } from \"../../components/Toast\";\r\nimport { db } from \"../../firebase\";\r\nimport { getUserId } from \"../../helpers/userId\";\r\nimport ConfirmModal from \"../../components/ConfirmModal\";\r\nimport VotingModal from \"./components/VotingModal\";\r\nimport SpyLocationModal from \"./components/SpyLocationModal\";\r\nimport Button from \"../../components/RippleButton\";\r\nimport Input from \"../../components/Input\";\r\nimport { getRandomLocationsData } from \"../../helpers\";\r\n// import GameCard from \"./components/GameCard\";\r\n// import GameBlock from \"./components/GameBlock\";\r\n// import NameList from \"./components/NameList\";\r\n// import CountdownTimer from \"../../components/CountdownTimer\";\r\nimport CircleButton from \"../../components/CircleButton\";\r\nimport Loader from \"../../components/Loader\";\r\n\r\nimport './style.css';\r\n\r\nconst GameCard = lazy(() => import(\"./components/GameCard\"));\r\nconst GameBlock = lazy(() => import(\"./components/GameBlock\"));\r\nconst NameList = lazy(() => import(\"./components/NameList\"));\r\nconst CountdownTimer = lazy(() => import(\"../../components/CountdownTimer\"));\r\n\r\nconst tenMinutes = 10 * 60 * 1000;\r\n\r\nconst Game = () => {\r\n  let { id } = useParams();\r\n  id = id.toUpperCase();\r\n\r\n  const [gameData, setGameData] = useState();\r\n  const [dataLoaded, setDataLoaded] = useState(false);\r\n  const [userName, setUserName] = useState();\r\n  const [showJoinForm, setShowJoinForm] = useState(false);\r\n  const [isHost, setIsHost] = useState();\r\n  const [kickIndex, setKickIndex] = useState();\r\n  const [banned, setBanned] = useState(false);\r\n  const [totalPlayersNeeded, setTotalPlayersNeeded] = useState();\r\n  const [ongoingGame, setOngoingGame] = useState(false);\r\n  const [isMidGamePlayer, setIsMidGamePlayer] = useState(false);\r\n\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [isKickModalOpen, setIsKickModalOpen] = useState(false);\r\n  const [isLeaveModalOpen, setIsLeaveModalOpen] = useState(false);\r\n  const [isVoteModalOpen, setIsVoteModalOpen] = useState(false);\r\n  const [isPutToVoteModalOpen, setIsPutToVoteModalOpen] = useState(false);\r\n  const [isSpyLocationModalOpen, setIsSpyLocationModalOpen] = useState(false);\r\n\r\n  const [exhibited, setExhibited] = useState();\r\n\r\n  // let checkedArr = [];\r\n\r\n  const uuid = getUserId();\r\n  const navigate = useNavigate();\r\n\r\n  const { setToast } = useContext(ToastContext);\r\n\r\n  const isSpy = useMemo(() => gameData?.spy_uid && (uuid === gameData.spy_uid?.[0] ||\r\n    (gameData.spy_uid?.length > 1 && uuid === gameData.spy_uid[1])), [gameData?.spy_uid, uuid]);\r\n\r\n  const isInGame = useMemo(() => {\r\n    if (gameData?.midgame_player_uid) {\r\n      return !gameData.midgame_player_uid.includes(uuid);\r\n    }\r\n    return false;\r\n  }, [gameData?.midgame_player_uid, uuid]);\r\n\r\n  const checkIfGameExists = useCallback(async () => {\r\n    const docSnap = await getDoc(doc(db, \"game_rooms\", id));\r\n    if (!docSnap.exists()) {\r\n      navigate(\"/error\");\r\n    }\r\n  }, [navigate, id]);\r\n\r\n  useEffect(() => {\r\n    checkIfGameExists();\r\n    const unsubscribe = onSnapshot(doc(db, \"game_rooms\", id), (doc) => {\r\n      setGameData(doc.data());\r\n      setDataLoaded(true);\r\n    });\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [checkIfGameExists, id]);\r\n\r\n  const getNumPlayersNeeded = useCallback(() => {\r\n    setTotalPlayersNeeded(\r\n      parseInt(gameData.min_player_count) - gameData.player_data_arr.length\r\n    );\r\n  }, [gameData?.min_player_count, gameData?.player_data_arr]);\r\n\r\n  const checkIfUserExists = useCallback(() => {\r\n    let userExists = false;\r\n    gameData.player_data_arr.forEach((element) => {\r\n      if (uuid === element.uid) {\r\n        userExists = true;\r\n      }\r\n    });\r\n    if (!userExists) {\r\n      setShowJoinForm(true);\r\n    }\r\n  }, [gameData?.player_data_arr, uuid]);\r\n\r\n  const checkIfBanned = useCallback(() => {\r\n    if (gameData.banned_player_uid.indexOf(uuid) !== -1) {\r\n      setBanned(true);\r\n      setShowJoinForm(false);\r\n    }\r\n  }, [gameData?.banned_player_uid, uuid]);\r\n\r\n  const leaveIfGameDeleted = useCallback(() => {\r\n    if (gameData.game_room_closed) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [gameData?.game_room_closed, navigate]);\r\n\r\n  const checkGameStatus = useCallback(() => {\r\n    if (gameData.ongoing_game) {\r\n      setOngoingGame(true);\r\n    } else {\r\n      setOngoingGame(false);\r\n    }\r\n  }, [gameData?.ongoing_game, setOngoingGame]);\r\n\r\n  const checkIfMidGamePlayer = useCallback(() => {\r\n    if (gameData.midgame_player_uid.indexOf(uuid) !== -1) {\r\n      setIsMidGamePlayer(true);\r\n    } else {\r\n      setIsMidGamePlayer(false);\r\n    }\r\n  }, [gameData?.midgame_player_uid, uuid]);\r\n\r\n  useEffect(() => {\r\n    if (dataLoaded) {\r\n      leaveIfGameDeleted();\r\n      checkIfUserExists();\r\n      checkIfBanned();\r\n      getNumPlayersNeeded();\r\n      checkGameStatus();\r\n      checkIfMidGamePlayer();\r\n      if (gameData.host_uid === uuid) {\r\n        setIsHost(true);\r\n      }\r\n    }\r\n  }, [\r\n    dataLoaded,\r\n    gameData,\r\n    checkGameStatus,\r\n    checkIfBanned,\r\n    checkIfMidGamePlayer,\r\n    checkIfUserExists,\r\n    getNumPlayersNeeded,\r\n    leaveIfGameDeleted,\r\n    uuid,\r\n  ]);\r\n\r\n  const handleChange = value => {\r\n    setUserName(value);\r\n  };\r\n\r\n  const handleClickJoin = async () => {\r\n    setShowJoinForm(false);\r\n\r\n    await updateDoc(doc(db, \"game_rooms\", id), {\r\n      player_data_arr: arrayUnion({ username: userName, uid: uuid, points: 0 }),\r\n    });\r\n    if (ongoingGame) {\r\n      await updateDoc(doc(db, \"game_rooms\", id), {\r\n        midgame_player_uid: arrayUnion(uuid),\r\n      });\r\n    }\r\n  };\r\n\r\n  // removing players\r\n  async function leaveGame() {\r\n    let username = \"\";\r\n    let points = 0;\r\n\r\n    gameData.player_data_arr.forEach(arr => {\r\n      if (arr.uid === uuid) {\r\n        username = arr.username;\r\n        points = arr.points;\r\n      }\r\n    });\r\n    await updateDoc(doc(db, \"game_rooms\", id), {\r\n      player_data_arr: arrayRemove({\r\n        username: username,\r\n        uid: uuid,\r\n        points,\r\n      }),\r\n    });\r\n    navigate(\"/\");\r\n  }\r\n\r\n  async function kickPlayer(index) {\r\n    const username = gameData.player_data_arr[index].username;\r\n    const uid = gameData.player_data_arr[index].uid;\r\n    const points = gameData.player_data_arr[index].points;\r\n\r\n    await updateDoc(doc(db, \"game_rooms\", id), {\r\n      banned_player_uid: arrayUnion(uid),\r\n      player_data_arr: arrayRemove({\r\n        username: username,\r\n        uid: uid,\r\n        points,\r\n      }),\r\n    });\r\n  }\r\n\r\n  // deleting room\r\n  async function deleteRoom() {\r\n    await updateDoc(doc(db, \"game_rooms\", id), {\r\n      game_room_closed: true,\r\n    });\r\n    await deleteDoc(doc(db, \"game_rooms\", id));\r\n    await updateDoc(doc(db, \"game_room_codes\", \"code_array\"), {\r\n      codes: arrayRemove(id),\r\n    });\r\n  }\r\n\r\n  // start game\r\n  async function startGame() {\r\n    if (\r\n      !ongoingGame &&\r\n      gameData.player_data_arr.length >= gameData.min_player_count\r\n    ) {\r\n      let randomUid = [];\r\n      const spyOne = Math.floor(\r\n        Math.random() * gameData.player_data_arr.length\r\n      );\r\n      randomUid.push(gameData.player_data_arr[spyOne].uid);\r\n      if (parseInt(gameData.spy_count) === 2) {\r\n        let spyTwo = Math.floor(\r\n          Math.random() * gameData.player_data_arr.length\r\n        );\r\n        while (gameData.player_data_arr.length > 1 && spyOne === spyTwo) {\r\n          spyTwo = Math.floor(Math.random() * gameData.player_data_arr.length);\r\n        }\r\n        randomUid.push(gameData.player_data_arr[spyTwo].uid);\r\n      }\r\n\r\n      const locationsData = getRandomLocationsData(30);\r\n      await updateDoc(doc(db, \"game_rooms\", id), {\r\n        spy_uid: randomUid,\r\n        location: { title: locationsData.location.title,  id: locationsData.location.id },\r\n        locations_list: locationsData.locationsList,\r\n        ongoing_game: true,\r\n        // startedAt: serverTimestamp(),\r\n        timeData: arrayUnion({ time: Timestamp.now(), status: 'start' }),\r\n      });\r\n\r\n      setOngoingGame(true);\r\n    }\r\n  }\r\n\r\n  // restart game\r\n  async function resetGame() {\r\n    await updateDoc(doc(db, \"game_rooms\", id), {\r\n      spy_uid: [],\r\n      location: { title: '',  id: '' },\r\n      locations_list: [],\r\n      ongoing_game: false,\r\n      midgame_player_uid: [],\r\n      // startedAt: null,\r\n      timeData: [],\r\n    });\r\n    checkIfMidGamePlayer();\r\n    setOngoingGame(false);\r\n    // setShowJoinForm(false);\r\n    // checkedArr = [];\r\n  }\r\n\r\n  // components\r\n  const CopyCode = (props) => {\r\n    function copyLinkToClipboard() {\r\n      copy(document.URL);\r\n\r\n      setToast({\r\n        message: \"Copied\",\r\n        type: 'success',\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"copy-code-block\">\r\n        <div className=\"code-block\">\r\n          Room code:\r\n          <div\r\n            onClick={copyLinkToClipboard}\r\n            onTouchStart={copyLinkToClipboard}\r\n            className=\"code-item\"\r\n          >\r\n            {props.id}\r\n          </div>\r\n        </div>\r\n        <div className=\"italic\">(click to copy link)</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const Banned = () => {\r\n    return (\r\n      <div className=\"banned-block\">\r\n        Looks like the owner of this room has banned you \r\n      </div>\r\n    );\r\n  };\r\n\r\n  // vote\r\n  useEffect(() => {\r\n    if (gameData?.vote_exhibited_uid) {\r\n      setIsVoteModalOpen(true);\r\n    } else {\r\n      setIsVoteModalOpen(false);\r\n      setIsSpyLocationModalOpen(false);\r\n    }\r\n  }, [gameData]);\r\n\r\n  useEffect(() => {\r\n    if (exhibited) setIsPutToVoteModalOpen(true);\r\n  }, [exhibited]);\r\n\r\n  function putToVoteOpenModal(uid) {\r\n    setExhibited(uid);\r\n  }\r\n\r\n  function putToVote(uid) {\r\n    updateDoc(doc(db, \"game_rooms\", id), {\r\n      vote_exhibited_uid: uid,\r\n      vote_exhibitor_uid: uuid,\r\n      timeData: arrayUnion({ time: Timestamp.now(), status: 'pause' }),\r\n    });\r\n  }\r\n\r\n  // beforeunload\r\n  // useEffect(() => {\r\n  //   const handleWindowBeforeUnload = () => {\r\n  //     console.log(\"beforeunload\");\r\n  //   };\r\n  //\r\n  //   window.addEventListener('beforeunload', handleWindowBeforeUnload);\r\n  //   return () => {\r\n  //     window.removeEventListener('beforeunload', handleWindowBeforeUnload);\r\n  //   };\r\n  // }, []);\r\n\r\n  // countdown timer score\r\n  const timerScore = useMemo(() => gameData?.timeData?.at(-1)?.status === 'start'\r\n    ? (\r\n      gameData.timeData.reduce((acc, timeItem, index) => {\r\n        if (index === 0) {\r\n          return 0;\r\n        }\r\n\r\n        return timeItem.status === 'start' ? acc + timeItem.time.toMillis() : acc - timeItem.time.toMillis();\r\n      }, 0)\r\n    )\r\n    : 'pause',\r\n    [gameData?.timeData]\r\n  );\r\n  const countdown = useMemo(() => (\r\n      gameData?.timeData?.length && (\r\n      timerScore !== 'pause'\r\n        ? gameData.timeData[0].time.toMillis() + tenMinutes + timerScore\r\n        : 'pause'\r\n      )\r\n    ),\r\n    [gameData?.timeData, timerScore]\r\n  );\r\n\r\n  // toasts\r\n  // useEffect(() => {\r\n  //   if (showJoinForm) {\r\n  //     setToast({\r\n  //       message: \"Enter a USERNAME to join a game.\",\r\n  //       type: 'info',\r\n  //     });\r\n  //   }\r\n  // }, [showJoinForm, setToast]);\r\n\r\n  useEffect(() => {\r\n    if (gameData?.lastGameSpy) {\r\n      if (uuid !== gameData.lastGameSpy.spyUid && gameData.lastGameSpy?.toasts?.length) {\r\n        gameData.lastGameSpy.toasts.forEach(item => {\r\n          setToast({\r\n            message: item.message,\r\n            type: item.type,\r\n            autoClose: 20000,\r\n          });\r\n        });\r\n      }\r\n\r\n      if (isHost) {\r\n        updateDoc(doc(db, \"game_rooms\", id), {\r\n          lastGameSpy: null,\r\n        });\r\n      }\r\n    }\r\n  }, [gameData?.lastGameSpy, setToast, id, isHost, uuid]);\r\n\r\n  const handlerCountdownTimer = useCallback(() => {\r\n    if (ongoingGame) {\r\n      setToast({\r\n        message: \"Round over!\",\r\n        type: 'danger',\r\n      });\r\n\r\n      if (isSpy) {\r\n        const player_data_arr = gameData.player_data_arr.map(player => {\r\n          if (player.uid === uuid) {\r\n            return { ...player, points: player.points + 2 }\r\n          }\r\n\r\n          return player;\r\n        });\r\n\r\n        const spyData = gameData.player_data_arr.find(item => item.uid === uuid);\r\n\r\n        updateDoc(doc(db, \"game_rooms\", id), {\r\n          vote_exhibited_uid: '',\r\n          vote_exhibitor_uid: '',\r\n          vote_score: {},\r\n\r\n          player_data_arr,\r\n          lastGameSpy: {\r\n            spyUid: uuid,\r\n            toasts: [{\r\n              message: `${spyData?.username || '???'} was a spy.`,\r\n              type: 'info',\r\n            }],\r\n          },\r\n\r\n          spy_uid: [],\r\n          location: { title: '',  id: '' },\r\n          locations_list: [],\r\n          ongoing_game: false,\r\n          midgame_player_uid: [],\r\n          // startedAt: null,\r\n          timeData: [],\r\n        });\r\n\r\n        setToast({\r\n          message: \"You have received two points.\",\r\n          type: 'success',\r\n        });\r\n      }\r\n    }\r\n\r\n  }, [gameData?.player_data_arr, id, isSpy, setToast, uuid, ongoingGame]);\r\n\r\n  return (\r\n    <section className=\"players\">\r\n      <h2\r\n        className=\"game-title\"\r\n        onClick={() => navigate('/')}\r\n        tabIndex={0}\r\n        role=\"button\"\r\n      >\r\n        SPYFALL\r\n      </h2>\r\n\r\n      {(!ongoingGame || isHost) && !banned && <CopyCode id={id} />}\r\n\r\n      {!!countdown &&\r\n      countdown !== 'pause' &&\r\n      ongoingGame &&\r\n      !isMidGamePlayer &&\r\n      !showJoinForm &&\r\n      !banned && (\r\n        <Suspense fallback={<Loader isFullScreen={false} />}>\r\n          <CountdownTimer\r\n            countToDate={new Date(countdown)}\r\n            stop={isVoteModalOpen}\r\n            callback={handlerCountdownTimer}\r\n          />\r\n        </Suspense>\r\n      )}\r\n\r\n      {ongoingGame &&\r\n      !isMidGamePlayer &&\r\n      !showJoinForm &&\r\n      isInGame &&\r\n      !banned && (\r\n        <Suspense fallback={<Loader isFullScreen={false} />}>\r\n          <GameCard isSpy={isSpy} locationData={gameData?.location} />\r\n        </Suspense>\r\n      )}\r\n\r\n      {gameData && !banned && (\r\n        <Suspense fallback={<Loader isFullScreen={false} />}>\r\n          <NameList\r\n            playersList={gameData.player_data_arr}\r\n            minPlayerCount={gameData.min_player_count}\r\n            spyCount={gameData.spy_count}\r\n            onClickKick={index => {\r\n              setKickIndex(index);\r\n              setIsKickModalOpen(true);\r\n            }}\r\n            isHost={isHost}\r\n            hostUid={gameData.host_uid}\r\n            ongoingGame={ongoingGame}\r\n            putToVote={putToVoteOpenModal}\r\n            uuid={uuid}\r\n            isSpy={isSpy}\r\n            isMidGamePlayer={isMidGamePlayer}\r\n            showJoinForm={showJoinForm}\r\n          />\r\n        </Suspense>\r\n      )}\r\n\r\n      {isSpy && (\r\n        <div className=\"btn-block\">\r\n          <Button\r\n            text=\"make a guess about the location\"\r\n            colorOne=\"#0162c8\"\r\n            colorTwo=\"#55e7fc\"\r\n            onClick={() => setIsSpyLocationModalOpen(true)}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {ongoingGame && !banned && (\r\n        <Suspense fallback={<Loader isFullScreen={false} />}>\r\n          <GameBlock\r\n            isSpy={isSpy}\r\n            isMidGamePlayer={isMidGamePlayer}\r\n            showJoinForm={showJoinForm}\r\n            ongoingGame={ongoingGame}\r\n            locationsList={gameData?.locations_list}\r\n          />\r\n        </Suspense>\r\n      )}\r\n\r\n      {banned ? (\r\n        <Banned />\r\n        ) : (!isMidGamePlayer ? (\r\n          !isHost &&\r\n          !showJoinForm &&\r\n          !ongoingGame && (\r\n            <div className=\"join-block\">\r\n              <Button\r\n                text=\"Leave \"\r\n                colorOne=\"#755bea\"\r\n                colorTwo=\"#ff72c0\"\r\n                onClick={() => setIsLeaveModalOpen(true)}\r\n              />\r\n            </div>\r\n          )\r\n        ) : (\r\n          <div className=\"join-block\">\r\n            <Button\r\n              text=\"Leave \"\r\n              colorOne=\"#755bea\"\r\n              colorTwo=\"#ff72c0\"\r\n              onClick={() => setIsLeaveModalOpen(true)}\r\n            />\r\n          </div>\r\n        )\r\n      )}\r\n\r\n      {showJoinForm && !banned && (\r\n        <div className=\"join-block\">\r\n          <Input\r\n            value={userName}\r\n            label=\"username\"\r\n            maxLength={15}\r\n            onChange={handleChange}\r\n          />\r\n          <CircleButton\r\n            handleClick={handleClickJoin}\r\n            text='Join Game'\r\n            svg={(\r\n              <svg width=\"13px\" height=\"10px\" viewBox=\"0 0 13 10\">\r\n                <path d=\"M1,5 L11,5\" />\r\n                <polyline points=\"8 1 12 5 8 9\" />\r\n              </svg>\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {isHost && (\r\n        <div className=\"btn-block\">\r\n          <Button\r\n            text=\"Delete Room \"\r\n            colorOne=\"#755bea\"\r\n            colorTwo=\"#ff72c0\"\r\n            onClick={() => setIsDeleteModalOpen(true)}\r\n          />\r\n          {!ongoingGame ? (\r\n            totalPlayersNeeded === 0 && (\r\n              <Button\r\n                text=\"Start Game \"\r\n                colorOne=\"#0162c8\"\r\n                colorTwo=\"#55e7fc\"\r\n                onClick={() => startGame()}\r\n              />\r\n            )\r\n          ) : (\r\n            <Button\r\n              text=\"Reset Game \"\r\n              colorOne=\"#0162c8\"\r\n              colorTwo=\"#55e7fc\"\r\n              onClick={() => resetGame()}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {!ongoingGame && (\r\n        <div className=\"italic block-info\">\r\n          {totalPlayersNeeded <= 0\r\n            ? \"\"\r\n            : `need ${totalPlayersNeeded} more\r\n        ${totalPlayersNeeded === 1 ? \"player\" : \"players\"} to begin`}\r\n        </div>\r\n      )}\r\n\r\n      <ConfirmModal\r\n        handleClose={() => setIsDeleteModalOpen(false)}\r\n        isOpen={isDeleteModalOpen}\r\n        confirmAction={deleteRoom}\r\n        btnTitle=\"Delete Room\"\r\n        title=\"Delete Room\"\r\n        description=\"Are you sure you want to delete your room? All other players will be kicked out of this room aswell.\"\r\n      />\r\n      <ConfirmModal\r\n        handleClose={() => setIsKickModalOpen(false)}\r\n        isOpen={isKickModalOpen}\r\n        confirmAction={() => {\r\n          kickPlayer(kickIndex);\r\n          setIsKickModalOpen(false);\r\n        }}\r\n        btnTitle=\"Kick Player\"\r\n        title=\"Kick Player\"\r\n        description=\"Are you sure you want to kick this player? They will be banned from the room and unable to join again.\"\r\n      />\r\n      <ConfirmModal\r\n        handleClose={() => setIsLeaveModalOpen(false)}\r\n        isOpen={isLeaveModalOpen}\r\n        confirmAction={leaveGame}\r\n        btnTitle=\"Leave\"\r\n        title=\"Leave Game\"\r\n        description=\"Are you sure you want to leave this game? You can join again later!\"\r\n      />\r\n      <ConfirmModal\r\n        handleClose={() => {\r\n          setIsPutToVoteModalOpen(false);\r\n          setExhibited(null);\r\n        }}\r\n        isOpen={isPutToVoteModalOpen}\r\n        confirmAction={() => {\r\n          setIsPutToVoteModalOpen(false);\r\n          // setIsVoteModalOpen(true);\r\n\r\n          if (exhibited.uid) putToVote(exhibited.uid);\r\n\r\n          setExhibited(null);\r\n        }}\r\n        btnTitle=\"Put To Vote\"\r\n        title=\"Put To Vote\"\r\n        description={`Are you sure that you want to put ${exhibited?.username} to the vote?`}\r\n      />\r\n\r\n      {isVoteModalOpen && (\r\n        <VotingModal\r\n          handleClose={() => {\r\n            setIsVoteModalOpen(false);\r\n            // setExhibited(null);\r\n          }}\r\n          isOpen={isVoteModalOpen}\r\n          exhibitedUid={gameData?.vote_exhibited_uid}\r\n          exhibitorUid={gameData?.vote_exhibitor_uid}\r\n          voteScore={gameData?.vote_score}\r\n          playerData={gameData?.player_data_arr}\r\n          id={id}\r\n          uuid={uuid}\r\n          spyUid={gameData?.spy_uid}\r\n          isHost={isHost}\r\n          isSpy={isSpy}\r\n        />\r\n      )}\r\n\r\n      {isSpyLocationModalOpen && <SpyLocationModal\r\n        handleClose={() => {\r\n          setIsSpyLocationModalOpen(false);\r\n        }}\r\n        isOpen={isSpyLocationModalOpen}\r\n        playerData={gameData?.player_data_arr}\r\n        location={gameData?.location}\r\n        locationsList={gameData?.locations_list}\r\n        id={id}\r\n        uuid={uuid}\r\n      />}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n"],"names":["IMAGES","spy","beach","cinema","casino","circusTent","bank","sauna","hotel","restaurant","groceryCart","flatTire","hospital","embassy","base","policeStation","training","graduation","plane","cruise","train","submarine","church","party","studio","knight","pirate","arctic","space","moon","castle","fireStation","neighborhood","bus","park","library","museum","carousel","sweets","contest","cemetery","pickaxe","building","gas","port","ice","prisoner","racing","everest","nursingHome","rock","excursion","stadium","metro","wedding","forest","northKorea","zoo","pub","workout","jewellery","pet","volcano","brazilian","skyscrapers","postOffice","swimmingPool","aquarium","handleClick","text","svg","className","onClick","width","height","viewBox","d","points","value","label","onChange","restProps","type","required","event","eventValue","target","colorOne","colorTwo","id","useId","useEffect","element","document","getElementById","e","x","clientX","offsetLeft","y","clientY","offsetTop","ripples","createElement","style","left","top","appendChild","setTimeout","remove","addEventListener","removeEventListener","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","REGEX","byteToHex","i","push","toString","substr","arr","offset","arguments","length","undefined","toLowerCase","validate","TypeError","options","buf","rnds","random","stringify","getUserId","window","localStorage","getItem","setItem","uuidv4","children","wrapperId","useState","wrapperElement","setWrapperElement","useLayoutEffect","systemCreated","setAttribute","body","createWrapperAndAppendToBody","parentNode","removeChild","createPortal","handleClose","isOpen","confirmAction","btnTitle","title","description","closeOnEscapeKey","key","overflow","filter","xmlns","time","cx","cy","r","exhibitedUid","exhibitorUid","voteScore","playerData","spyUid","isHost","isSpy","exhibited","useMemo","find","player","uid","exhibitor","setToast","useContext","ToastContext","isVotingOver","every","isAllPlayerVoting","timer","player_data_arr","includes","map","updateDoc","doc","vote_exhibited_uid","vote_exhibitor_uid","vote_score","spy_uid","location","locations_list","ongoing_game","midgame_player_uid","timeData","arrayUnion","Timestamp","status","message","spyData","username","clearTimeout","fill","locationsList","choosenLocation","setChoosenLocation","item","checked","alt","src","loading","lastGameSpy","toasts","img","getLocationsData","num","sort","Math","slice","getMultipleRandom","locations","getRandomLocationsData","locationsData","mapSize","floor","getRandomLocation","GameCard","lazy","GameBlock","NameList","CountdownTimer","useParams","toUpperCase","gameData","setGameData","dataLoaded","setDataLoaded","userName","setUserName","showJoinForm","setShowJoinForm","setIsHost","kickIndex","setKickIndex","banned","setBanned","totalPlayersNeeded","setTotalPlayersNeeded","ongoingGame","setOngoingGame","isMidGamePlayer","setIsMidGamePlayer","isDeleteModalOpen","setIsDeleteModalOpen","isKickModalOpen","setIsKickModalOpen","isLeaveModalOpen","setIsLeaveModalOpen","isVoteModalOpen","setIsVoteModalOpen","isPutToVoteModalOpen","setIsPutToVoteModalOpen","isSpyLocationModalOpen","setIsSpyLocationModalOpen","setExhibited","navigate","useNavigate","isInGame","checkIfGameExists","useCallback","getDoc","exists","unsubscribe","onSnapshot","data","getNumPlayersNeeded","parseInt","min_player_count","checkIfUserExists","userExists","forEach","checkIfBanned","banned_player_uid","indexOf","leaveIfGameDeleted","game_room_closed","checkGameStatus","checkIfMidGamePlayer","host_uid","handleClickJoin","arrayRemove","index","deleteDoc","codes","randomUid","spyOne","spy_count","spyTwo","CopyCode","props","copyLinkToClipboard","copy","URL","onTouchStart","Banned","timerScore","at","reduce","acc","timeItem","toMillis","countdown","autoClose","handlerCountdownTimer","tabIndex","role","Suspense","fallback","Loader","isFullScreen","countToDate","Date","stop","callback","locationData","playersList","minPlayerCount","spyCount","onClickKick","hostUid","putToVote","Input","maxLength","CircleButton","resetGame","startGame","kickPlayer","deselectCurrent","require","clipboardToIE11Formatting","module","exports","debug","reselectPrevious","range","selection","mark","success","createRange","getSelection","textContent","all","position","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","stopPropagation","format","preventDefault","clipboardData","console","warn","clearData","setData","onCopy","selectNodeContents","addRange","execCommand","err","error","copyKey","test","navigator","userAgent","replace","prompt","removeRange","removeAllRanges","rangeCount","active","activeElement","ranges","getRangeAt","tagName","blur","focus"],"sourceRoot":""}